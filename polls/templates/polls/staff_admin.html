<!DOCTYPE html>
<html lang="en">

{% load static %}
{% load template_tag %}

<link rel="stylesheet" type="text/css" href="{% static 'polls/style.css' %}">

<!--====== Bootstrap CSS ======-->
<link rel="stylesheet" href="{% static 'polls/bootstrap.min.css' %}"/>

<!--====== Lineicons CSS ======-->
<link href="{% static 'polls/lineicons-free-basic-3.0/icon-font/lineicons.css' %}" rel="stylesheet">

<!--====== Style css ======-->
<link rel="stylesheet" href="{% static 'polls/starter.css' %}"/>

<script type="text/javascript" src="{% static 'polls/js/jquery-3.6.0.js' %}"></script>

<script type="text/javascript" src="{% static 'polls/js/myJs.js' %}"></script>

<head>
    <meta charset="UTF-8">
    <title>Admin</title>
</head>
<body>

<!--====== If messages, show them firstly ======-->
{% if messages %}
    <script>
        {% for msg in messages %}
            alert('{{ msg.message }}');
        {% endfor %}
    </script>
{% endif %}

<!--====== NAVBAR ONE PART START ======-->
<section class="navbar-area navbar-one">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <nav class="navbar navbar-expand-lg">

                    <div class="nav">
                        <a style="width: 300px; height: 60px;" class="navbar-brand">
                            <img src="{% static 'polls/logo/cms_2.png' %}" alt="Logo"/>
                        </a>
                        <button
                                class="navbar-toggler"
                                type="button"
                                data-bs-toggle="collapse"
                                data-bs-target="#navbarOne"
                                aria-controls="navbarOne"
                                aria-expanded="false"
                                aria-label="Toggle navigation"
                        >
                            <span class="toggler-icon"></span>
                            <span class="toggler-icon"></span>
                            <span class="toggler-icon"></span>
                        </button>
                    </div>

                    <div class="collapse navbar-collapse sub-menu-bar" id="navbarOne">
                        <ul class="navbar-nav m-auto">
                            <li class="nav-item">
                                <a href="{% url 'polls:myadmin' %}">Home</a>
                            </li>
                            <li class="nav-item">
                                <a>
                                    Division
                                    <div class="sub-nav-toggler">
                                        <span><i class="lni lni-chevron-down"></i></span>
                                    </div>
                                </a>
                                <ul class="sub-menu collapse" id="sub-nav1"
                                    style="width: 130px; height: 180px; opacity: 0.95">
                                    <form action="{% url 'polls:home' %}" method="post" enctype="multipart/form-data">
                                        {% csrf_token %}
                                        <li>
                                            <button type="submit" name="dst" value="True" class="btn my-navbar-btn">
                                                DST
                                            </button>
                                        </li>
                                        <li>
                                            <button type="submit" name="dbm" value="True" class="btn my-navbar-btn">
                                                DBM
                                            </button>
                                        </li>
                                        <li>
                                            <button type="submit" name="dcc" value="True" class="btn my-navbar-btn">
                                                DCC
                                            </button>
                                        </li>
                                        <li>
                                            <button type="submit" name="dhss" value="True" class="btn my-navbar-btn">
                                                DHSS
                                            </button>
                                        </li>
                                    </form>
                                </ul>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'polls:best' %}">Best Poster</a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'polls:popular' %}">Popular Poster</a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav justify-content-end" style="width: 300px;">
                        {% if is_login == False %}
                            <div class="navbar-btn d-none d-sm-inline-block">
                                <ul>
                                    <li>
                                        <a class="btn primary-btn-outline" href="{% url 'polls:login' 'attendee' %}">attendee</a>
                                    </li>
                                    <li>
                                        <a class="btn primary-btn-outline"
                                           href="{% url 'polls:login' 'staff' %}">staff</a>
                                    </li>
                                </ul>
                            </div>
                        {% else %}
                            <div class="collapse navbar-collapse sub-menu-bar" id="navbarOne">
                                <ul class="navbar-nav m-auto">
                                    <li class="nav-item">
                                        <a style="text-transform: lowercase;">
                                            {{ position }}
                                            <div class="sub-nav-toggler">
                                                <span><i class="lni lni-chevron-down"></i></span>
                                            </div>
                                        </a>
                                        <ul class="sub-menu collapse" id="sub-nav1">
                                            <li>
                                                <a href="{% url 'polls:logout' %}">Logout</a>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        {% endif %}
                    </div>

                </nav>
                <!-- navbar -->
            </div>
        </div>
        <!-- row -->
    </div>
    <!-- container -->
</section>
<!--====== NAVBAR ONE PART ENDS ======-->


<br>
<!--======  Start Section Title One ======-->
<div class="section-title-one">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="text-center">
                    <div class="content">
                        <h2 class="fw-bold">Welcome, Admin!</h2>
                        <p>
                            Please define the current Conference information
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- row -->
    </div>
    <!-- container -->
</div>
<!--====== ABOUT TWO PART ENDS ======-->


<div class="container">
    <div class="row">

        <div class="col-lg-2">
            <div class="form-input" style="padding: 20px; box-shadow: var(--shadow-4);">

                <form action="{% url 'polls:myadmin' %}" method="post" enctype="multipart/form-data" id="navigate_form">

                    {% csrf_token %}

                    <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                        <p style="color: black; font-size: 20px;">--NavigateBar--</p>
                        <hr>
                    </div>
                    <div style="margin-top: 10px; display: flex; justify-content: center; align-items: center;">
                        <button class="btn my-primary-btn" type="submit" form="navigate_form" value="ConferenceRule"
                                name="navigate" style="border-radius: 10px; width: 100%;">
                            Rule
                        </button>
                    </div>
                    <hr>
                    <div style="margin-top: 10px; display: flex; justify-content: center; align-items: center;">
                        <button class="btn my-primary-btn" type="submit" form="navigate_form" value="PosterUpload"
                                name="navigate" style="border-radius: 10px; width: 100%;">
                            Upload
                        </button>
                    </div>
                    <hr>
                    <div style="margin-top: 10px; display: flex; justify-content: center; align-items: center;">
                        <button class="btn my-primary-btn" type="submit" form="navigate_form" value="PosterEdit"
                                name="navigate" style="border-radius: 10px; width: 100%;">
                            Edit
                        </button>
                    </div>

                </form>

            </div>
        </div>

        {% if navigate_type == 'ConferenceRule' %}

            <div class="col-lg-6">
                <div class="form-input" style="padding: 20px; box-shadow: var(--shadow-4);">

                    <form action="{% url 'polls:myadmin' %}" method="post" enctype="multipart/form-data"
                          id="admin_form">

                        {% csrf_token %}

                        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                            <p style="color: black; font-size: 20px;">Create a new Conference</p>
                        </div>

                        <label>Enter Conference Name</label>
                        <div class="input-items default">
                            <input class="admin-input" type="text" name="name" placeholder="Conference Name"/>
                            <i class="lni lni-menu"></i>
                        </div>

                        <label>Enter Abstract</label>
                        <div class="input-items default">
                            <textarea class="admin-input" name="abstract" placeholder="Abstract"></textarea>
                            <i class="lni lni-pencil-alt"></i>
                        </div>

                        <label>Enter number of regular judge</label>
                        <div class="input-items default">
                            <input class="admin-input" type="number" name="regular_judge" min="1"
                                   placeholder="Regular judge"/>
                            <i class="lni lni-menu"></i>
                        </div>

                        <label>Enter number of head judge</label>
                        <div class="input-items default">
                            <input class="admin-input" type="number" name="head_judge" min="1"
                                   placeholder="Head judge"/>
                            <i class="lni lni-menu"></i>
                        </div>

                        <label>Enter number of First prize</label>
                        <div class="input-items default">
                            <input class="admin-input" type="number" name="first_prize" min="1"
                                   placeholder="First judge"/>
                            <i class="lni lni-menu"></i>
                        </div>

                        <label>Enter number of Second prize</label>
                        <div class="input-items default">
                            <input class="admin-input" type="number" name="second_prize" min="1"
                                   placeholder="Second judge"/>
                            <i class="lni lni-menu"></i>
                        </div>

                        <label>Enter number of Third prize</label>
                        <div class="input-items default">
                            <input class="admin-input" type="number" name="third_prize" min="1"
                                   placeholder="Third judge"/>
                            <i class="lni lni-menu"></i>
                        </div>

                        <div style="margin-top: 10px; display: flex; justify-content: center; align-items: center;">
                            <button disabled class="btn my-primary-btn" type="submit" form="admin_form" value="Submit"
                                    id="admin_button" name="new_conference">Create
                            </button>
                        </div>

                    </form>

                </div>
            </div>


            <div class="col-lg-4">
                <div class="form-input" style="padding: 20px; box-shadow: var(--shadow-4);">

                    <form action="{% url 'polls:myadmin' %}" method="post" enctype="multipart/form-data"
                          id="download_form">

                        {% csrf_token %}

                        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                            <p style="color: black; font-size: 20px;">Download the password list</p>
                        </div>

                        <div style="margin-top: 10px; display: flex; justify-content: center; align-items: center;">
                            <button class="btn my-primary-btn" type="submit" form="download_form" value="Submit"
                                    name="download">Download
                            </button>
                        </div>

                    </form>

                </div>
            </div>

        {% elif navigate_type == 'PosterUpload' %}

            <div class="col-lg-6">
                <div class="form-input" style="padding: 20px; box-shadow: var(--shadow-4);">

                    <form action="{% url 'polls:upload_action' %}" method="post" enctype="multipart/form-data"
                          id="coordinator_form">

                        {% csrf_token %}

                        <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 5px;">
                            <p style="color: black; font-size: 20px;">Upload a new poster</p>
                        </div>

                        <label for="poster">Choose Poster</label>
                        <br>
                        <input id="coordinator_file" type="file" name="poster">
                        <br>

                        <label>Enter title</label>
                        <div class="input-items default">
                            <input class="coordinator-input" type="text" name="title" placeholder="Title"/>
                            <i class="lni lni-menu"></i>
                        </div>

                        <label>Enter author</label>
                        <div class="input-items default">
                            <input class="coordinator-input" type="text" name="author" placeholder="Author"/>
                            <i class="lni lni-user"></i>
                        </div>

                        <label>Enter division</label>
                        <div class="input-items default">
                            <input class="coordinator-input" type="text" name="division" placeholder="Division"/>
                            <i class="lni lni-remove-file"></i>
                        </div>

                        <label>Enter programme</label>
                        <div class="input-items default">
                            <input class="coordinator-input" type="text" name="programme" placeholder="Programme"/>
                            <i class="lni lni-share"></i>
                        </div>

                        <label>Enter Abstract</label>
                        <div class="input-items default">
                            <textarea class="coordinator-input" name="abstract" placeholder="Abstract"></textarea>
                            <i class="lni lni-pencil-alt"></i>
                        </div>

                        <div style="margin: 10px;
								display: flex;
								justify-content: center;
								align-items: center;">
                            <button disabled class="btn my-primary-btn" type="submit" form="coordinator_form"
                                    value="Submit" id="coordinator_button">Submit
                            </button>
                        </div>

                    </form>

                </div>
            </div>

            <div class="col-lg-4">
                <div class="form-input" style="padding: 20px; box-shadow: var(--shadow-4);">
                    <div class="row">

                        <div class="col-lg-12">
                            <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 15px;">
                                <p style="color: black; font-size: 20px;">Upload history</p>
                            </div>
                        </div>

                        {% for poster in poster_history %}

                        <div class="col-lg-4">
                            <div style="display: flex; justify-content: center; align-items: center;">
                                <p style="color: black; font-size: 16px;">{{ poster.title }}</p>
                            </div>
                        </div>

                        <div class="col-lg-8">
                            <div style="display: flex; justify-content: center; align-items: center;">
                                <p style="color: black; font-size: 16px;">{{ poster.pub_date }}</p>
                            </div>
                        </div>

                            <hr>

                        {% endfor %}

                    </div>
                </div>
            </div>

        {% elif navigate_type == 'PosterEdit' %}

            <div class="col-lg-10">
                <div class="form-input" style="padding: 20px; box-shadow: var(--shadow-4);">

                    <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 10px;">
                        <p style="color: black; font-size: 24px;">Edit the poster</p>
                    </div>

                    {% for poster in all_posters %}

                        <form action="{% url 'polls:myadmin' %}" method="post"
                                      enctype="multipart/form-data" id="edit_form">

                        <div class="row">

                            <div class="col-lg-8">

                                    {% csrf_token %}

                                    <div class="row">

                                    <div class="col-lg-6">
                                        <label>Enter title</label>
                                        <div class="input-items default">
                                            <input value="{{ poster.title }}" disabled class="coordinator-input"
                                                   type="text" name="new_title" placeholder="{{ poster.title }} "/>
                                            <i class="lni lni-menu"></i>
                                        </div>
                                    </div>

                                    <div class="col-lg-6">
                                        <label>Enter author</label>
                                        <div class="input-items default">
                                            <input value="{{ poster.author }}" class="coordinator-input" type="text"
                                                   name="new_author" placeholder="{{ poster.author }}"/>
                                            <i class="lni lni-user"></i>
                                        </div>
                                    </div>


                                    <div class="col-lg-6">
                                        <label>Enter division</label>
                                        <div class="input-items default">
                                            <input value="{{ poster.division }}" class="coordinator-input"
                                                   type="text" name="new_division"
                                                   placeholder="{{ poster.division }}"/>
                                            <i class="lni lni-remove-file"></i>
                                        </div>
                                    </div>

                                    <div class="col-lg-6">
                                        <label>Enter programme</label>
                                        <div class="input-items default">
                                            <input value="{{ poster.programme }}" class="coordinator-input"
                                                   type="text" name="new_programme"
                                                   placeholder="{{ poster.programme }}"/>
                                            <i class="lni lni-share"></i>
                                        </div>
                                    </div>

                                    <div class="col-lg-12">
                                        <label>Enter Abstract</label>
                                        <div class="input-items default">
                                            <input value="{{ poster.abstract }}" class="coordinator-input" name="new_abstract"
                                                      placeholder="{{ poster.abstract }}"/>
                                            <i class="lni lni-pencil-alt"></i>
                                        </div>
                                    </div>

                                    </div>

                            </div>

                            <div class="col-lg-4">

                                <div class="row">

                                    <div class="col-lg-12 team-image" style="margin-top: 20px;">

                                        <img src="{% static poster.file_path %}" alt="My image"/>

                                    </div>

                                </div>

                            </div>

                            <div class="col-lg-12">

                                <div class="row">

                                    <div class="col-lg-2">

                                        <button id="poster_update_btn" class="btn my-primary-btn" type="submit"
                                                form="edit_form" value="{{ poster.title }}" name="updateBtn"
                                                style="border-radius: 10px; width: 100%; margin: 20px;">
                                            Update
                                        </button>

                                    </div>

                                    <div class="col-lg-2">

                                        <button id="poster_delete_btn" class="btn my-primary-btn" type="submit"
                                                form="edit_form" value="{{ poster.title }}" name="deleteBtn"
                                                style="border-radius: 10px; width: 100%; margin: 20px;">
                                            Delete
                                        </button>

                                    </div>

                                </div>

                            </div>

                        </div>

                        </form>

                        <hr>



                    {% endfor %}


                </div>
            </div>

        {% endif %}

    </div>
</div>


<br><br>
<!--====== FOOTER ONE PART START ======-->
<footer class="footer-area footer-one">
    <!-- footer widget -->
    <div class="footer-copyright">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div
                            class="
				   copyright
				   text-center
				   d-md-flex
				   justify-content-between
				   align-items-center
				   "
                    >
                        <p class="text">Copyright © 2022 Alpha. All Rights Reserved</p>
                        <ul class="social">
                            <li>
                                <a href="javascript:void(0)">
                                    <i class="lni lni-facebook-filled"></i>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <i class="lni lni-twitter-original"></i>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)">
                                    <i class="lni lni-instagram-filled"></i>
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)"
                                ><i class="lni lni-linkedin-original"></i
                                ></a>
                            </li>
                        </ul>
                    </div>
                    <!-- copyright -->
                </div>
            </div>
            <!-- row -->
        </div>
        <!-- container -->
    </div>
    <!-- footer copyright -->
</footer>
<!--====== FOOTER ONE PART ENDS ======-->


</body>
</html>